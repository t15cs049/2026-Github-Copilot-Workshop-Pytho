# アーキテクチャ概要

## システム構成

ポモドーロタイマーアプリケーションは、Flaskベースのシンプルなウェブアプリケーションです。現在は最小構成で実装されており、バックエンドとフロントエンドの基本的な構造のみが存在します。

## 技術スタック

### バックエンド
- **Flask**: Python Webフレームワーク
- **Python 3.x**: アプリケーションランタイム

### フロントエンド
- **HTML5**: マークアップ
- **CSS3**: スタイリング
- **Vanilla JavaScript**: クライアント側ロジック（将来実装予定）

## ディレクトリ構造

````
1.pomodoro/
├── app.py              # Flaskアプリケーションファクトリ
├── run.py              # アプリケーション起動スクリプト
├── static/             # 静的ファイル
│   ├── css/
│   │   └── style.css  # スタイルシート
│   └── js/
│       └── timer.js   # タイマーロジック（将来実装予定）
├── templates/          # Jinjaテンプレート
│   └── index.html     # メインページ
├── tests/              # テストファイル
│   ├── test_routes.py # ルーティングのテスト
│   └── test_timer.py  # タイマーロジックのテスト（将来実装予定）
└── docs/               # ドキュメント
````

## アプリケーション層

### 現在の実装

#### 1. アプリケーション層（app.py）
- **Factory Pattern**: `create_app()`関数でFlaskアプリケーションインスタンスを生成
- **責務**: ルーティング定義とアプリケーション設定

#### 2. プレゼンテーション層（templates/）
- **index.html**: UIの基本構造を提供
- タイマー表示エリア（`#timer-display`）
- コントロールボタン（スタート/ストップ/リセット）
- 現在はボタンが無効化されている（`disabled`属性）

#### 3. 静的アセット層（static/）
- **CSS**: レスポンシブで視覚的に整ったUIスタイル
- **JavaScript**: 将来のタイマーロジック実装用（現在は空）

## 設計パターン

### Factory Pattern
`create_app()`関数を使用したアプリケーションファクトリパターンを採用しています。これにより以下のメリットがあります：

- テストの容易性向上
- 複数のアプリケーションインスタンス作成が可能
- 設定の分離が容易

### 現在の制限事項

- タイマーロジックは未実装
- APIエンドポイントは存在しない
- データ永続化機能なし
- ユーザー認証なし

## 今後の拡張予定

1. **タイマーロジック実装** (`timer.js`)
2. **REST APIの追加** (タイマー設定、履歴管理)
3. **データモデルとリポジトリ層** (設定・履歴の永続化)
4. **通知機能** (タイマー終了時のアラート)
5. **カスタマイズ機能** (作業時間/休憩時間の設定)

## 実行方法

````bash
# アプリケーションの起動
python run.py

# デバッグモードで起動
FLASK_DEBUG=1 python run.py
````

## テスト

````bash
# テストの実行
pytest tests/
````

現在のテストカバレッジ：
- ✅ アプリケーション作成テスト
- ✅ トップページのルーティングテスト
- ⏳ タイマーロジックテスト（将来実装予定）
